# menu_frame.py - Menu Frame WITHOUT Blue Highlights & Better Spacing

import tkinter as tk
from tkinter import Canvas
from PIL import Image, ImageTk


class MenuFrame:
    def __init__(self, root):
        self.root = root
        self.root.title("QuickCab Menu")

        # Window dimensions 428x926
        self.root.geometry("428x926")
        self.root.resizable(False, False)

        # Load images
        self.load_images()

        # Create menu frame using Canvas
        self.create_menu()

    def load_images(self):
        """Load all PNG images"""
        IMAGE_FOLDER = "Python Frames/"

        # Load menu background
        try:
            img = Image.open(IMAGE_FOLDER + "Left-Menu page.png")
            img = img.resize((428, 926), Image.Resampling.LANCZOS)
            self.menu_bg = ImageTk.PhotoImage(img)
            print("✅ Loaded: Left-Menu page.png")
        except Exception as e:
            print(f"❌ Error loading background: {e}")
            self.menu_bg = None

        # Load white menu button
        try:
            img = Image.open(IMAGE_FOLDER + "MENU BUTTON WHITE.png")
            img = img.resize((30, 20), Image.Resampling.LANCZOS)
            self.menu_btn_img = ImageTk.PhotoImage(img)
            print("✅ Loaded: MENU BUTTON WHITE.png")
        except Exception as e:
            print(f"❌ Error loading menu button: {e}")
            self.menu_btn_img = None

        # Load profile picture
        try:
            img = Image.open(IMAGE_FOLDER + "PROFILE FOR MENU.png")
            img = img.resize((80, 80), Image.Resampling.LANCZOS)
            self.profile_img = ImageTk.PhotoImage(img)
            print("✅ Loaded: PROFILE FOR MENU.png")
        except Exception as e:
            print(f"❌ Error loading profile: {e}")
            self.profile_img = None

    def create_menu(self):
        """Create the menu frame using Canvas (NO HIGHLIGHTS, BETTER SPACING)"""
        # Create canvas for drawing
        self.canvas = Canvas(
            self.root,
            width=428,
            height=926,
            bg="#3D5AFE",
            highlightthickness=0,
            borderwidth=0
        )
        self.canvas.pack(fill="both", expand=True)

        # Draw background image
        if self.menu_bg:
            self.canvas.create_image(0, 0, image=self.menu_bg, anchor="nw")

        # Add white menu button directly on canvas (NO HIGHLIGHT BOX)
        if self.menu_btn_img:
            self.canvas.create_image(25, 35, image=self.menu_btn_img, anchor="center")

        # Add profile picture
        if self.profile_img:
            self.canvas.create_image(30, 90, image=self.profile_img, anchor="nw")

        # Draw "Frank Smith" text directly on canvas (NO BACKGROUND)
        self.canvas.create_text(
            30, 185,
            text="Xander Calzado",
            font=("Poppins", 18, "bold"),
            fill="white",
            anchor="w"
        )

        # Draw menu items with PROPER SPACING (60px between each item)
        menu_items = [
            ("My Account", 280),
            ("Notification", 340),
            ("About", 400),
            ("Privacy Policy", 460),
            ("Terms & Condition", 520)
        ]

        for item_text, y_pos in menu_items:
            text_id = self.canvas.create_text(
                30, y_pos,
                text=item_text,
                font=("Poppins", 16),
                fill="white",
                anchor="w"
            )
            # Make text clickable
            self.canvas.tag_bind(text_id, "<Button-1>",
                                 lambda e, t=item_text: print(f"{t} clicked"))
            self.canvas.tag_bind(text_id, "<Enter>",
                                 lambda e: self.root.config(cursor="hand2"))
            self.canvas.tag_bind(text_id, "<Leave>",
                                 lambda e: self.root.config(cursor=""))

        # Draw "Logout" text lower at bottom (NO BACKGROUND)
        logout_id = self.canvas.create_text(
            30, 850,
            text="Logout",
            font=("Poppins", 16),
            fill="white",
            anchor="w"
        )
        # Make logout clickable
        self.canvas.tag_bind(logout_id, "<Button-1>",
                             lambda e: print("Logout clicked"))
        self.canvas.tag_bind(logout_id, "<Enter>",
                             lambda e: self.root.config(cursor="hand2"))
        self.canvas.tag_bind(logout_id, "<Leave>",
                             lambda e: self.root.config(cursor=""))




# Run the menu
if __name__ == "__main__":
    root = tk.Tk()
    menu = MenuFrame(root)
    root.mainloop()
